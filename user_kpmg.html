<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>WhereToPark</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

	<!--<script src="js/user_kpmg.js"></script>-->
    <!-- Custom styles for this template -->
    <link href="css/jumbotron-narrow.css" rel="stylesheet">
	<script src="//www.parsecdn.com/js/parse-1.6.7.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
	<script type="text/javascript">
	function refresh() {
			//var y= document.getElementbyId("park_1");
			//y.innerHTML="Available";
			Parse.$ = jQuery;
			Parse.initialize("SxLcanZTIZ5uJxDqtE65d0NPxk1zYRxZSxt6E5oq", "JdEN6kYT4thC4AzBS4nMfAavGDszgP24biD4KRmy");
			var User = Parse.Object.extend("User");
			var query = new Parse.Query(User);
			
			query.get("hfBMJ3zWKa",{ 
			success: function(user) {
			var parking_1 = user.get("parking_1");
			var parking_2 = user.get("parking_2");
			var main_1= user.get("status_1");
			var main_2= user.get("status_2");
			if(main_1) {
				document.getElementById("park_1").innerHTML="Available";
			}
			else if(main_1 == false && parking_1 > 0){
				document.getElementById("park_1").innerHTML=parking_1.toString() + " " + "Slots Available";
			}
			else if(main_1 == false && parking_1 == 0){ 
				document.getElementById("park_1").innerHTML="Full";
			}
			
			if(main_2) {
				document.getElementById("park_2").innerHTML="Available";
			}
			else if(main_2 == false && parking_2 > 0){
				document.getElementById("park_2").innerHTML=parking_2.toString() + " " + "Slots Available";
			}
			else if(main_2 == false && parking_2 == 0){ 
				document.getElementById("park_2").innerHTML="Full";
			}
			//console.log(main_1);
			//console.log(main_2);
			},
			error: function(object, error) {
				}
			});
			
			query.get("SWDS1jVVv5",{ 
			success: function(user) {
			var parking_3 = user.get("parking_1");
			var metro = user.get("status_1");		
			//console.log(metro);
			if(metro) {
				document.getElementById("park_3").innerHTML="Available";
			}
			else if(metro == false && parking_3 > 0){
				document.getElementById("park_3").innerHTML=parking_3.toString() + " " + "Slots Available";
			}
			else if(metro == false && parking_3 == 0){ 
				document.getElementById("park_3").innerHTML="Full";
			}
			},
			error: function(object, error) { 	
				}
			});
		}
        window.onload = refresh;
        </script>
 
  </head>

  <body>

    <div class="container">
      <div class="header clearfix">
        <nav>
			<button onclick="refresh()" class="btn btn-lg btn-primary " type="submit">Refresh</button>
        </nav>
      </div>
		
		<script>
		function refresh() {
			//var y= document.getElementbyId("park_1");
			//y.innerHTML="Available";
			Parse.$ = jQuery;
			Parse.initialize("SxLcanZTIZ5uJxDqtE65d0NPxk1zYRxZSxt6E5oq", "JdEN6kYT4thC4AzBS4nMfAavGDszgP24biD4KRmy");
			var User = Parse.Object.extend("User");
			var query = new Parse.Query(User);
			
			query.get("hfBMJ3zWKa",{ 
			success: function(user) {
			var parking_1 = user.get("parking_1");
			var parking_2 = user.get("parking_2");
			var main_1= user.get("status_1");
			var main_2= user.get("status_2");
			if(main_1) {
				document.getElementById("park_1").innerHTML="Available";
			}
			else if(main_1 == false && parking_1 > 0){
				document.getElementById("park_1").innerHTML=parking_1.toString() + " " + "Slots Available";
			}
			else if(main_1 == false && parking_1 == 0){ 
				document.getElementById("park_1").innerHTML="Full";
			}
			
			if(main_2) {
				document.getElementById("park_2").innerHTML="Available";
			}
			else if(main_2 == false && parking_2 > 0){
				document.getElementById("park_2").innerHTML=parking_2.toString() + " " + "Slots Available";
			}
			else if(main_2 == false && parking_2 == 0){ 
				document.getElementById("park_2").innerHTML="Full";
			}
			//console.log(main_1);
			//console.log(main_2);
			},
			error: function(object, error) {
				}
			});
			
			query.get("SWDS1jVVv5",{ 
			success: function(user) {
			var parking_3 = user.get("parking_1");
			var metro = user.get("status_1");		
			//console.log(metro);
			if(metro) {
				document.getElementById("park_3").innerHTML="Available";
			}
			else if(metro == false && parking_3 > 0){
				document.getElementById("park_3").innerHTML=parking_3.toString() + " " + "Slots Available";
			}
			else if(metro == false && parking_3 == 0){ 
				document.getElementById("park_3").innerHTML="Full";
			}
			},
			error: function(object, error) { 	
				}
			});
		}

		</script>
		
      <div class="jumbotron">
		<img class="img" src="images/wtp1.jpg" height="50%" width="50%" alt="WhereToPark">
		<h2 style="color:#984807"><strong>WhereToPark</strong></h2>
        <h5 style="color:red"><i>Better Parking, Better Convenience</i></h5>
		<h4>Please select a parking</h4>
		<p class="lead"></p>
		<p><a class="btn btn-primary btn-primary disabled" href="#" role="button">KPMG</a></p>
		<table class="table table-striped">
	
		<tbody>
			<tr style="text-align:left">
				<td><strong>Surface Parking</strong></td>
				<td id="park_1"></td>
			</tr>
			<tr style="text-align:left">
				<td><strong>Basement Parking</strong></td>
				<td id="park_2"><strong></strong></td>        
			</tr>
			<tr style="text-align:left">
				<td style="word-wrap: break-word;"><strong>Vodafone Belvedere Metro Station Parking</strong></td>
				<td id="park_3"><strong></strong></td>
			</tr>
		</tbody>
	</table>      
  </div>
      <footer class="footer">
        <p>&copy; 2015 Dream Manor Navigation</p>
      </footer>

    </div> <!-- /container -->



  </body>
</html>
